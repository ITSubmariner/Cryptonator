# Cryptonator
Поддерживается интеграция с API одной из самых известных бирж криптовалют [Bittrex](https://global.bittrex.com/).
## Краткое описание 
Приложение должно осуществлять подсчет статистики "выполненных сделок". Для начала необходимо выбрать самую простую стратегию, основанную на статистике, с некоторым набором параметров. 

Алгоритм работы следующий:
* С помощью API приложение получает историю торгов той или иной криптовалютной пары и складывает данные в Apache Ignite
* Пользователь, с помощью UI (ReactJS), вводит необходимые параметры стратегии, получая при этом статистику "выполненных сделок"

"Выполненных сделок" означает, что приложение тестирует стратегию на **истории** торгов.
## Стратегия
На основе статистических данных средних скользящих (EMA, SMA) принимается решение о "покупке" и "продаже" криптовалюты. Вычисляется две средних скользящих (на большом и малом промежутках времени), и при их пересечении производится "сделка".  _(детали уточняются)_ 
## Необходимое API
Есть два способа получения данных с биржи: HTTP и Websocket. Так как это приложение не подразумевает самой торговли и непрерывных Real Time вычислений, то достаточно будет использовать протокол HTTP.

Основное использование API заключается в получении истории торгов. 
```
Request:
GET https://api.bittrex.com/v3/markets/{marketSymbol}/candles/{candleInterval}/recent
```
```
Response:
[
  {
    "startsAt": "2020-04-28T08:16:00Z",     //время начала периода
    "open": "0.00003664",                   //стоимость криптовалюты в начале периода
    "high": "0.00003664",                   //наибольшая стоимость криптовалюты за период
    "low": "0.00003664",                    //наименьшая стоимость криптовалюты за период
    "close": "0.00003664",                  //стоимость криптовалюты в конце периода
    "volume": "0",                          //объем торгов за данный период
    "baseVolume": "0",                      //объем торгов в базовой валюте за период (валюта, стоящая на первом месте алиаса)
    "quoteVolume": "0"                      //объем торгов в квотируемой валюте за период (валюта, стоящая на втором месте алиаса)
  },
  ...
]
```
* _marketSymbol_ - алиас криптовалютной пары (например, VTC-BTC)
* _candleInterval_ - период отображения "свечек" (цена открытия и закрытия торгов на данном промежутке; MINUTE_1, MINUTE_5, HOUR_1, DAY_1)

Также есть необходимость получить список криптовалютных пар:
```
Request:
GET https://api.bittrex.com/v3/markets
```
```
Response:
[
  {
    "symbol": "1ST-BTC",                        //marketSymbol (алиас криптовалютной пары)
    "baseCurrencySymbol": "1ST",                //базовая валюта
    "quoteCurrencySymbol": "BTC",               //квотируемая валюта
    "minTradeSize": "23.12673451",              //минимальный объем сделки
    "precision": 8,
    "status": "ONLINE",                         //статус криптовалютной пары
    "createdAt": "2017-06-06T01:22:35.727Z",    //время создания
    "prohibitedIn": [
      "US"
    ]
  }
]
```
## Модель данных
Нет необходимости в использовании всех полей ответа, поэтому основная модель данных _(tickets)_ примет следующий вид (период/интервал "свечек" можно представить в виде перечисления|enum):
```
id: long (primary key)
startsAt: LocalDateTime
open: float
close: float
period: enum
volume: float
```
Таблица криптовалютных пар _(markets)_ будет выглядеть следующим образом:
```
id: long (primary key)
name: String
status: boolean
```
Тогда таблица _(ticketMarkets)_ будет иметь такой вид:
```
ticketId: long (foreign key)
marketId: long (foreign key)
```
## Описание User Interface
UI можно разделить на две части: форма ввода и результаты.

Форма ввода:
* выбор криптовалютной пары
* выбор периода отображения "свечек"
* ввод большого и малого промежутков времени (для подсчета EMA/SMA)

Результаты:
* временной интервал обработанных данных
* количество совершенных "сделок"
* среднее время "сделки"
* изменение бюджета после совершенных "сделок"
* графическое отображение почасового кол-ва завершенных "сделок" (опционально)